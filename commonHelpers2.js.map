{"version":3,"file":"commonHelpers2.js","sources":["../src/js/up-btn.js","../src/js/rendering/filtersSection.js","../src/js/api/client.js","../src/js/api/getFilters.js","../src/js/api/getQuote.js","../src/js/eventHandlers/filtersHandlers.js","../src/js/api/setSubscription.js","../src/js/rendering/common.js","../src/js/eventHandlers/handleSubscription.js","../src/js/main.js"],"sourcesContent":["const scrollupBtn = document.querySelector('.scrollup-btn');\n\nconst handlerScrollEvent = function () {\n  window.scrollY < 300\n    ? scrollupBtn.classList.add('visually-hidden')\n    : scrollupBtn.classList.remove('visually-hidden');\n};\n\nwindow.addEventListener('scroll', handlerScrollEvent);\n\nscrollupBtn.addEventListener('click', handlerScrollupBtnClick);\n\nfunction handlerScrollupBtnClick() {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n","const quoteSection = document.querySelector('.quote-text-wrapper');\nconst imagesList = document.querySelector('.filter-list');\nconst filterBtns = document.querySelector('.pagination-section');\n\nexport function renderImg(imagesData) {\n  const markUp = imagesData.results\n    .map(image => {\n      return `\n        <li class=\"filter-item\">\n          <button type=\"submit\" class=\"filter-btn untreated data-filter=${image.filter} data-name=${image.name}\">\n            <div class=\"filter-container\">\n              <img class=\"filter-img\" src=\"${image.imgURL}\" alt=\"${image.name}\" width=335 height=225>\n              <div class=\"filter-overlay\"></div>\n              <p class=\"filter-name\">${image.name}</p>\n              <p class=\"filter-filter\">${image.filter}</p>\n            </div>  \n          </button>\n        </li>\n      `;\n    })\n    .join('');\n  imagesList.insertAdjacentHTML('beforeend', markUp);\n}\n\nexport function renderPagination(imagesData) {\n  let buttonsHTML = '';\n  for (let i = 1; i <= imagesData.totalPages; i++) {\n    buttonsHTML += `\n      <button type=\"button\" class=\"pagination-btn untreated${\n        i === 1 ? ' active' : ''\n      }\" data-page=${i}>${i}</button>\n    `;\n  }\n  filterBtns.insertAdjacentHTML('beforeend', buttonsHTML);\n}\n\nexport function renderQuote(quoteData) {\n  const quoteMarkUp = `\n    <p class=\"quote-text\">${quoteData.quote}</p>\n    <p class=\"quote-author\">${quoteData.author}</p>\n  `;\n  quoteSection.insertAdjacentHTML('beforeend', quoteMarkUp);\n}\n\nexport function decorateFilter(event) {\n  const navBtn = document.querySelectorAll('.nav-btn');\n  navBtn.forEach(btn => btn.classList.remove('decorated'));\n  event.target.classList.add('decorated');\n}\n\nexport function resetFilterView(resetAll) {\n  imagesList.innerHTML = '';\n  if (resetAll) {\n    filterBtns.innerHTML = '';\n  }\n}\n\nexport function updatePaginationView(button) {\n  const filterPaginationBtn = filterBtns.querySelectorAll('.pagination-btn');\n  filterPaginationBtn.forEach(btn => btn.classList.remove('active'));\n  button.classList.add('active');\n  window.scrollTo(0, 0);\n}\n","import axios from \"axios\";\n\nconst client = axios.create({\n  baseURL: 'https://your-energy.b.goit.study/api/',\n  timeout: 3000,\n});\n\nexport default client;\n","import client from './client';\n\nexport async function getFilters({ page = 1, limit = 12, filter }) {\n  try {\n    const response = await client.get('filters', {\n      params: {\n        page,\n        limit,\n        filter,\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.data?.message || error.message);\n  }\n}\n","import client from './client';\n\n// TODO\nexport async function getQuote() {\n  try {\n    const response = await client.get('quote');\n\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.data?.message || error.message);\n  }\n}\n","import moment from 'moment';\nimport {\n  decorateFilter,\n  renderImg,\n  renderPagination,\n  renderQuote,\n  resetFilterView,\n  updatePaginationView,\n} from '../rendering/filtersSection';\nimport { getFilters } from '../api/getFilters';\nimport { getQuote } from '../api/getQuote';\n\nexport const filtersParam = {\n  filter: 'Muscles',\n  page: 1,\n  limit: null,\n};\n\nexport async function changeFilter(event) {\n  if (event.target.classList.contains('nav-btn')) {\n    decorateFilter(event);\n    resetFilterView(true);\n    filtersParam.page = 1;\n    filtersParam.filter = event.target.dataset.filter;\n    const filtersData = await getFilters(filtersParam);\n    renderImg(filtersData);\n    renderPagination(filtersData);\n  }\n}\n\nexport async function filterQuoteLS() {\n  const today = moment().format('L');\n  const dataFromLS = JSON.parse(localStorage.getItem('quote-data'));\n\n  if (!dataFromLS || dataFromLS.date !== today) {\n    const quoteData = await getQuote();\n    renderQuote(quoteData);\n    const data = {};\n    data['date'] = today;\n    data['quote'] = quoteData.quote;\n    data['author'] = quoteData.author;\n    localStorage.clear('quote-data');\n    localStorage.setItem('quote-data', JSON.stringify(data));\n  } else {\n    renderQuote(dataFromLS);\n  }\n}\n\nexport async function filterSizeDepends() {\n  const windowWidth = window.innerWidth;\n  let tempLimit = null;\n\n  if (windowWidth > 1439) {\n    tempLimit = 12;\n  } else {\n    tempLimit = 9;\n  }\n\n  if (tempLimit !== filtersParam.limit) {\n    resetFilterView(true);\n    filtersParam.page = 1;\n    filtersParam.limit = tempLimit;\n    const filtersData = await getFilters(filtersParam);\n    renderImg(filtersData);\n    renderPagination(filtersData);\n  }\n}\n\nexport async function handleFiltersPagination(event) {\n  if (event.target.classList.contains('pagination-btn')) {\n    resetFilterView();\n    const pageBtn = event.target;\n    filtersParam.page = pageBtn.dataset.page;\n    const filtersData = await getFilters(filtersParam);\n    renderImg(filtersData);\n    updatePaginationView(pageBtn);\n  }\n}\n","import client from './client';\n\nexport async function setSubscription(email) {\n  try {\n    const response = await client.post('subscription', {\n      email,\n    });\n\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.data?.message || error.message);\n  }\n}\n","// only common utils for notifications, loading, scrolling\n// for sections rendering use separate modules: 1 file per 1 section\n\nimport iziToast from 'izitoast';\n\niziToast.settings({\n  class: 'custom-toast',\n  position: 'topRight',\n  maxWidth: 432,\n  color: '#FFFFFF',\n  titleColor: '#FFFFFF',\n  messageColor: '#FFFFFF',\n  iconColor: '#FFFFFF',\n  displayMode: 1,\n});\n\nexport function showLoader() {\n  document.getElementById('loader').classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  document.getElementById('loader').classList.add('hidden');\n}\n\nexport function showNotification(message) {\n  iziToast.info({\n    message,\n    backgroundColor: '#6C8CFF',\n  });\n}\n\nexport function showErrorNotification(message) {\n  iziToast.error({\n    message,\n    backgroundColor: '#EF4040',\n  });\n}\n\nexport function smoothScroll() {\n  // TODO smooth scroll for pagination (if needed)\n\n\twindow.scrollBy({\n\t\ttop: 0, // TODO\n\t\tbehavior: 'smooth',\n\t});\n}\n","import { setSubscription } from '../api/setSubscription.js';\nimport {\n  showErrorNotification,\n  showNotification,\n} from '../rendering/common.js';\n\nconst subscriptionForm = document.querySelector('.subscribe__form');\nconst emailInput = subscriptionForm.querySelector('[name=\"email\"]');\n\nexport async function handleSubmitSubscription(event) {\n  event.preventDefault();\n\n  if (!emailInput.value) return;\n\n  try {\n    const email = emailInput.value;\n    const res = await setSubscription(email);\n\n    showNotification(res.message);\n\n    subscriptionForm.reset();\n  } catch (error) {\n    showErrorNotification(error.message);\n  }\n}\n","import './up-btn.js';\n\nimport { toggleHeaderEventListeners } from './eventHandlers/headerHandlers.js';\nimport {\n  changeFilter,\n  filterSizeDepends,\n  filterQuoteLS,\n  handleFiltersPagination,\n} from './eventHandlers/filtersHandlers.js';\nimport { handleSubmitSubscription } from './eventHandlers/handleSubscription.js';\nimport { openExerciseDialog } from './eventHandlers/exerciseHandlers.js';\n\nconst navFilter = document.querySelector('.main-nav');\nconst filterPagination = document.querySelector('.pagination-section');\nconst subscriptionForm = document.querySelector('.subscribe__form');\n\nwindow.addEventListener('resize', () => {\n  // Header Listening for window resize events - hide burger menu on larger screens\n  toggleHeaderEventListeners();\n  filterSizeDepends();\n});\n\n// Header Setting up event listeners\ntoggleHeaderEventListeners();\n\n// Filters\nfilterSizeDepends();\nfilterQuoteLS();\n\nnavFilter.addEventListener('click', changeFilter);\nfilterPagination.addEventListener('click', handleFiltersPagination);\n\n// Subscription Form\nsubscriptionForm.addEventListener('submit', handleSubmitSubscription);\n"],"names":["scrollupBtn","handlerScrollEvent","handlerScrollupBtnClick","quoteSection","imagesList","filterBtns","renderImg","imagesData","markUp","image","renderPagination","buttonsHTML","i","renderQuote","quoteData","quoteMarkUp","decorateFilter","event","btn","resetFilterView","resetAll","updatePaginationView","button","client","axios","getFilters","page","limit","filter","error","_b","_a","getQuote","filtersParam","changeFilter","filtersData","filterQuoteLS","today","moment","dataFromLS","data","filterSizeDepends","windowWidth","tempLimit","handleFiltersPagination","pageBtn","setSubscription","email","iziToast","showNotification","message","showErrorNotification","subscriptionForm","emailInput","handleSubmitSubscription","res","navFilter","filterPagination","toggleHeaderEventListeners"],"mappings":"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"}