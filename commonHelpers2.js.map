{"version":3,"file":"commonHelpers2.js","sources":["../src/js/up-btn.js","../src/js/eventHandlers/headerHandlers.js","../src/js/rendering/filtersSection.js","../src/js/api/getFilters.js","../src/js/api/getQuote.js","../src/js/eventHandlers/filtersHandlers.js","../src/js/api/setSubscription.js","../src/js/eventHandlers/handleSubscription.js","../src/js/api/getExercises.js","../src/js/rendering/renderExercises.js","../src/js/eventHandlers/fetchExercisesHandler.js","../src/js/rendering/renderPagination.js","../src/js/eventHandlers/updateExercisesHandler.js","../src/js/eventHandlers/uiEventHandlers.js","../src/js/main.js"],"sourcesContent":["const scrollupBtn = document.querySelector('.scrollup-btn');\n\nconst handlerScrollEvent = function () {\n  window.scrollY < 300\n    ? scrollupBtn.classList.add('visually-hidden')\n    : scrollupBtn.classList.remove('visually-hidden');\n};\n\nwindow.addEventListener('scroll', handlerScrollEvent);\n\nscrollupBtn.addEventListener('click', handlerScrollupBtnClick);\n\nfunction handlerScrollupBtnClick() {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n","// Get variable --breakpoint-md from variables.css:root\nconst headerMenu = document.querySelector('.js-header-menu');\nconst headerOverlay = document.querySelector('.overlay');\nconst rootStyles = getComputedStyle(document.documentElement);\nconst breakpointMd = parseInt(\n  rootStyles.getPropertyValue('--breakpoint-md').trim()\n);\n\n// Function to remove event listeners from buttons (if needed)\nfunction removeButtonListeners() {\n  const toggleButtons = document.querySelectorAll('.js-toggle-menu-btn');\n  toggleButtons.forEach(button => {\n    button.removeEventListener('click', toggleMenu);\n  });\n}\n\nfunction addButtonListeners() {\n  const toggleButtons = document.querySelectorAll('.js-toggle-menu-btn');\n  toggleButtons.forEach(button => {\n    button.addEventListener('click', toggleMenu);\n  });\n}\n\nfunction toggleMenu() {\n  headerMenu.classList.toggle('open');\n  headerOverlay.classList.toggle('open');\n  document.body.classList.toggle('no-scroll');\n  document.documentElement.style.overflow = headerMenu.classList.contains(\n    'open'\n  )\n    ? 'hidden'\n    : '';\n}\n\n// Event handler for toggling the mobile menu\nexport function toggleHeaderEventListeners() {\n  if (window.innerWidth >= breakpointMd) {\n    //Hide mobile menu for larger screens\n    headerMenu.classList.remove('open'); // Hide menu on larger screens\n    headerOverlay.classList.remove('open'); // Hide Overlay on larger screens\n    document.body.classList.remove('no-scroll');\n    document.documentElement.style.overflow = '';\n    removeButtonListeners();\n  } else {\n    addButtonListeners();\n  }\n}\n","const quoteSection = document.querySelector('.quote-text-wrapper');\nconst imagesList = document.querySelector('.filter-list');\nconst filterBtns = document.querySelector('.pagination-section');\n\nexport function renderImg(imagesData) {\n  const markUp = imagesData.results\n    .map(image => {\n      return `\n        <li class=\"filter-item\">\n          <button type=\"submit\" class=\"filter-btn untreated\" data-filter=${image.filter} data-name=${image.name}>\n            <div class=\"filter-container\">\n              <img class=\"filter-img\" src=\"${image.imgURL}\" alt=\"${image.name}\" width=335 height=225>\n              <div class=\"filter-overlay\"></div>\n              <p class=\"filter-name\">${image.name}</p>\n              <p class=\"filter-filter\">${image.filter}</p>\n            </div>  \n          </button>\n        </li>\n      `;\n    })\n    .join('');\n  imagesList.insertAdjacentHTML('beforeend', markUp);\n}\n\nexport function renderPagination(imagesData) {\n  let buttonsHTML = '';\n  for (let i = 1; i <= imagesData.totalPages; i++) {\n    buttonsHTML += `\n      <button type=\"button\" class=\"pagination-btn untreated${\n        i === 1 ? ' active' : ''\n      }\" data-page=${i}>${i}</button>\n    `;\n  }\n  filterBtns.insertAdjacentHTML('beforeend', buttonsHTML);\n}\n\nexport function renderQuote(quoteData) {\n  const quoteMarkUp = `\n    <p class=\"quote-text\">${quoteData.quote}</p>\n    <p class=\"quote-author\">${quoteData.author}</p>\n  `;\n  quoteSection.insertAdjacentHTML('beforeend', quoteMarkUp);\n}\n\nexport function decorateFilter(event) {\n  const navBtn = document.querySelectorAll('.nav-btn');\n  navBtn.forEach(btn => btn.classList.remove('decorated'));\n  event.target.classList.add('decorated');\n}\n\nexport function resetFilterView(resetAll) {\n  imagesList.innerHTML = '';\n  if (resetAll) {\n    filterBtns.innerHTML = '';\n  }\n}\n\nexport function updatePaginationView(button) {\n  const filterPaginationBtn = filterBtns.querySelectorAll('.pagination-btn');\n  filterPaginationBtn.forEach(btn => btn.classList.remove('active'));\n  button.classList.add('active');\n  window.scrollTo(0, 800);\n}\n","import client from './client';\n\nexport async function getFilters({ page = 1, limit = 12, filter }) {\n  try {\n    const response = await client.get('filters', {\n      params: {\n        page,\n        limit,\n        filter,\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.data?.message || error.message);\n  }\n}\n","import client from './client';\n\n// TODO\nexport async function getQuote() {\n  try {\n    const response = await client.get('quote');\n\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.data?.message || error.message);\n  }\n}\n","import moment from 'moment';\nimport {\n  decorateFilter,\n  renderImg,\n  renderPagination,\n  renderQuote,\n  resetFilterView,\n  updatePaginationView,\n} from '../rendering/filtersSection';\nimport { getFilters } from '../api/getFilters';\nimport { getQuote } from '../api/getQuote';\n\nexport const filtersParam = {\n  filter: 'Muscles',\n  page: 1,\n  limit: null,\n};\n\nexport async function changeFilter(event) {\n  if (event.target.classList.contains('nav-btn')) {\n    decorateFilter(event);\n    resetFilterView(true);\n    filtersParam.page = 1;\n    filtersParam.filter = event.target.dataset.filter;\n    const filtersData = await getFilters(filtersParam);\n    renderImg(filtersData);\n    renderPagination(filtersData);\n  }\n}\n\nexport async function filterQuoteLS() {\n  const today = moment().format('L');\n  const dataFromLS = JSON.parse(localStorage.getItem('quote-data'));\n\n  if (!dataFromLS || dataFromLS.date !== today) {\n    const quoteData = await getQuote();\n    renderQuote(quoteData);\n    const data = {};\n    data['date'] = today;\n    data['quote'] = quoteData.quote;\n    data['author'] = quoteData.author;\n    localStorage.clear('quote-data');\n    localStorage.setItem('quote-data', JSON.stringify(data));\n  } else {\n    renderQuote(dataFromLS);\n  }\n}\n\nexport async function filterSizeDepends() {\n  const windowWidth = window.innerWidth;\n  let tempLimit = null;\n\n  if (windowWidth > 1439) {\n    tempLimit = 12;\n  } else {\n    tempLimit = 9;\n  }\n\n  if (tempLimit !== filtersParam.limit) {\n    resetFilterView(true);\n    filtersParam.page = 1;\n    filtersParam.limit = tempLimit;\n    const filtersData = await getFilters(filtersParam);\n    renderImg(filtersData);\n    renderPagination(filtersData);\n  }\n}\n\nexport async function handleFiltersPagination(event) {\n  if (event.target.classList.contains('pagination-btn')) {\n    resetFilterView();\n    const pageBtn = event.target;\n    filtersParam.page = pageBtn.dataset.page;\n    const filtersData = await getFilters(filtersParam);\n    renderImg(filtersData);\n    updatePaginationView(pageBtn);\n  }\n}\n","import client from './client';\n\nexport async function setSubscription(email) {\n  try {\n    const response = await client.post('subscription', {\n      email,\n    });\n\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.data?.message || error.message);\n  }\n}\n","import { setSubscription } from '../api/setSubscription.js';\nimport {\n  showErrorNotification,\n  showNotification,\n} from '../rendering/common.js';\n\nconst subscriptionForm = document.querySelector('.subscribe__form');\nconst emailInput = subscriptionForm.querySelector('[name=\"email\"]');\n\nexport async function handleSubmitSubscription(event) {\n  event.preventDefault();\n\n  if (!emailInput.value) return;\n\n  try {\n    const email = emailInput.value;\n    const res = await setSubscription(email);\n\n    showNotification(res.message);\n\n    subscriptionForm.reset();\n  } catch (error) {\n    showErrorNotification(error.message);\n  }\n}\n","import client from './client';\n\nexport async function getExercises({\n  page = 1,\n  limit = 12,\n  bodypart,\n  muscles,\n  equipment,\n  keyword,\n}) {\n  try {\n    const response = await client.get('exercises', {\n      params: {\n        page,\n        limit,\n        bodypart,\n        muscles,\n        equipment,\n        keyword,\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.data?.message || error.message);\n  }\n}\n","import { openExerciseDialog } from '../eventHandlers/exerciseHandlers';\nimport sprite from '../../img/sprite.svg';\n\nexport function renderExercises(exercises) {\n  const exerciseListEl = document.getElementById('exercise-list');\n\n  if (!Array.isArray(exercises)) {\n    console.error(\n      'Expected exercises to be an array, but received:',\n      exercises\n    );\n    return;\n  }\n\n  exerciseListEl.innerHTML = exercises\n    .map(exercise => {\n      const roundedRating = Math.round(exercise.rating);\n\n      return `\n        <div class=\"exercise-card\">\n            <div class=\"exercise-card-rating\">\n                <div class=\"exercise-card-wrapper\">\n                    <span class=\"exercise-card-workout\">workout</span>\n                <p class=\"exercise-card-ret\">${roundedRating.toFixed(1)}</p>\n                <svg class=\"exercize-icon-star\" width=\"18\" height=\"18\">\n                    <use href=\"${sprite}#icon-star\"></use>\n                </svg>\n                </div>\n                <button class=\"start-btn\" data-id=\"${exercise._id}\">\n                    Start\n                    <svg class=\"exercize-icon-arrow\" width=\"16\" height=\"16\">\n                        <use href=\"${sprite}#arrow\"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class=\"exercise-card-name\">\n                <svg class=\"exercize-icon-cross\" width=\"24\" height=\"24\">\n                    <use href=\"${sprite}#running-stick-figure-border\"></use>\n                </svg>\n                <h3 class=\"exercise-card-name-title\">${exercise.name}</h3>\n            </div>\n            <div class=\"exercise-card-info\">\n                <p class=\"exercise-card-info-cal\">Burned calories: ${\n                  exercise.burnedCalories\n                } / ${exercise.time} min </p>\n                <p class=\"exercise-card-info-body\">Body part: ${\n                  exercise.bodyPart\n                }</p>\n                <p class=\"exercise-card-info-terget\">Target: ${\n                  exercise.target\n                }</p>\n            </div>\n        </div>\n    `;\n    })\n    .join('');\n\n  const startButtons = document.querySelectorAll('.start-btn');\n  startButtons.forEach(button => {\n    button.addEventListener('click', event => {\n      const exerciseId = event.target.dataset.id;\n      // console.log(event.target);\n      openExerciseDialog(exerciseId);\n    });\n  });\n}\n\n// function updateVisibleExercises() {\n//     const screenWidth = window.innerWidth;\n//     let exercisesToShow;\n\n//     if (screenWidth <= parseInt(getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-sm'))) {\n//         exercisesToShow = 8;  // Для мобильных устройств\n//     } else if (screenWidth <= parseInt(getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-md'))) {\n//         exercisesToShow = 10; // Для планшетов\n//     } else {\n//         exercisesToShow = 10; // Для ноутбуков и больших экранов\n//     }\n\n//     const visibleExercises = allExercises.slice(0, exercisesToShow);\n//     renderExercises(visibleExercises);\n// }\n\n// // Обработчик события изменения размера окна\n// window.addEventListener('resize', updateVisibleExercises);\n\n// // Первоначальный рендеринг упражнений при загрузке страницы\n// document.addEventListener('DOMContentLoaded', () => {\n//     updateVisibleExercises();\n// });\n","import { getExercises } from '../api/getExercises';\nimport { renderExercises } from '../rendering/renderExercises';\nimport { showLoader, hideLoader, showErrorNotification } from '../rendering/common';\n\nexport async function fetchExercisesHandler({ page, limit, bodypart, muscles, equipment, keyword }) {\n    showLoader();\n\n    try {\n        const response = await getExercises({ page, limit, bodypart, muscles, equipment, keyword });\n\n        if (response.results.length > 0) {\n            renderExercises(response.results);\n            return {\n                results: response.results,\n                totalPages: response.totalPages\n            };\n        } else {\n            renderExercises([]);\n            showErrorNotification('No exercises found for the selected category.');\n            return {\n                results: [],\n                totalPages: 1\n            };\n        }\n    } catch (error) {\n        showErrorNotification('Error fetching exercises');\n        console.error('Error fetching exercises:', error);\n        return {\n            results: [],\n            totalPages: 1\n        };\n    } finally {\n        hideLoader();\n    }\n}","export function renderPagination({ currentPage, totalPages, paginationContainer, updateExercises, currentBodypart, currentMuscles, currentEquipment, currentKeyword }) {\n    paginationContainer.innerHTML = '';\n\n    // Определяем диапазон страниц для отображения\n    let startPage, endPage;\n\n    if (currentPage === 1) {\n        startPage = 1;\n        endPage = Math.min(3, totalPages);\n    } else if (currentPage === totalPages) {\n        startPage = Math.max(1, totalPages - 2);\n        endPage = totalPages;\n    } else {\n        startPage = currentPage - 1;\n        endPage = currentPage + 1;\n    }\n\n    // Создаем кнопки для пагинации\n    for (let i = startPage; i <= endPage; i++) {\n        const pageButton = document.createElement('button');\n        pageButton.textContent = i;\n        pageButton.classList.add('pagination-btn');\n\n        if (i === currentPage) {\n            pageButton.classList.add('pagination-current'); // Выделяем текущую страницу\n        }\n\n        pageButton.addEventListener('click', () => {\n            updateExercises({ \n                currentPage: i, \n                currentBodypart, \n                currentMuscles, \n                currentEquipment, \n                currentKeyword, \n                paginationContainer, \n                totalPages \n            });\n        });\n\n        paginationContainer.appendChild(pageButton);\n    }\n}\n","import { fetchExercisesHandler } from '../eventHandlers/fetchExercisesHandler';\nimport { showErrorNotification } from '../rendering/common';\nimport { renderPagination } from '../rendering/renderPagination';\n\nexport async function updateExercises({\n  currentPage,\n  currentBodypart,\n  currentMuscles,\n  currentEquipment,\n  currentKeyword,\n  paginationContainer,\n  totalPages,\n}) {\n  try {\n    const response = await fetchExercisesHandler({\n      page: currentPage,\n      limit: 8,\n      bodypart: currentBodypart || undefined,\n      muscles: currentMuscles || undefined,\n      equipment: currentEquipment || undefined,\n      keyword: currentKeyword || undefined,\n    });\n\n    if (response && response.totalPages) {\n      totalPages = response.totalPages;\n      renderPagination({\n        currentPage,\n        totalPages,\n        paginationContainer,\n        updateExercises,\n        currentBodypart,\n        currentMuscles,\n        currentEquipment,\n        currentKeyword,\n      });\n    }\n  } catch (error) {\n    showErrorNotification('Error fetching exercises');\n  }\n}\n","export function handleCategoryClick(event, currentPage, currentBodypart, currentMuscles, currentEquipment, currentKeyword, updateExercises, paginationContainer) {\n    const button = event.target.closest('button');\n    if (!button) return;\n\n    const filter = button.dataset.filter.toLowerCase();\n    const name = button.dataset.name;\n\n    const filterWrapper = document.querySelector('.filter-wrapper');\n    if (filterWrapper) {\n        filterWrapper.classList.add('hidden');\n    }\n\n    const exerciseWrapper = document.querySelector('.exercise-wrapper');\n    if (exerciseWrapper) {\n        exerciseWrapper.classList.remove('hidden');\n    }\n\n    \n    const mainTitle = document.querySelector('.main-title');\n    const selectedCategoryEl = document.getElementById('selected-category');\n    const searchContainer = document.getElementById('search-container');\n\n    if (filter) {\n        searchContainer.classList.remove('hidden'); \n    } else {\n        searchContainer.classList.add('hidden');\n    }\n\n    if (name) {\n        selectedCategoryEl.innerHTML = \n            `\n                <span class=\"category__slash\"> / </span>\n                <span class=\"category__selected\">${name.charAt(0).toUpperCase() + name.slice(1).toLowerCase()}</span>\n            `;\n    } else {\n        selectedCategoryEl.innerHTML = \"\";\n    }\n\n    if (filter === 'bodypart') {\n        currentBodypart = name;\n        currentMuscles = '';\n        currentEquipment = '';\n    } else if (filter === 'muscles') {\n        currentMuscles = name;\n        currentBodypart = '';\n        currentEquipment = '';\n    } else if (filter === 'equipment') {\n        currentEquipment = name;\n        currentBodypart = '';\n        currentMuscles = '';\n    }\n\n    currentPage = 1;\n    updateExercises({ \n        currentPage, \n        currentBodypart, \n        currentMuscles, \n        currentEquipment, \n        currentKeyword, \n        paginationContainer, \n        totalPages: 1 \n    });\n\n    return { currentPage, currentBodypart, currentMuscles, currentEquipment, currentKeyword };\n}\n\n\nexport function handleSearchSubmit(event, currentPage, currentBodypart, currentMuscles, currentEquipment, currentKeyword, updateExercises, paginationContainer) {\n    event.preventDefault();\n    \n    const searchInput = document.getElementById('search-input');\n    currentPage = 1;\n    currentKeyword = searchInput.value.trim();\n\n    console.log('Filter applied:', { currentBodypart, currentMuscles, currentEquipment, currentKeyword });\n    updateExercises({ \n        currentPage, \n        currentBodypart, \n        currentMuscles, \n        currentEquipment, \n        currentKeyword, \n        paginationContainer, \n        totalPages: 1 \n    });\n\n    return { currentPage, currentBodypart, currentMuscles, currentEquipment, currentKeyword };\n}","import './up-btn.js';\n\nimport { toggleHeaderEventListeners } from './eventHandlers/headerHandlers.js';\nimport {\n  changeFilter,\n  filterSizeDepends,\n  filterQuoteLS,\n  handleFiltersPagination,\n} from './eventHandlers/filtersHandlers.js';\nimport { handleSubmitSubscription } from './eventHandlers/handleSubscription.js';\nimport { openExerciseDialog } from './eventHandlers/exerciseHandlers.js';\nimport { updateExercises } from './eventHandlers/updateExercisesHandler.js';\nimport {\n  handleCategoryClick,\n  handleSearchSubmit,\n} from './eventHandlers/uiEventHandlers';\n\n\nconst navFilter = document.querySelector('.main-nav');\nconst filterPagination = document.querySelector('.pagination-section');\nconst subscriptionForm = document.querySelector('.subscribe__form');\n\nwindow.addEventListener('resize', () => {\n  // Header Listening for window resize events - hide burger menu on larger screens\n  toggleHeaderEventListeners();\n  filterSizeDepends();\n});\n\n// Header Setting up event listeners\ntoggleHeaderEventListeners();\n\n// Filters\nfilterSizeDepends();\nfilterQuoteLS();\n\nnavFilter.addEventListener('click', changeFilter);\nfilterPagination.addEventListener('click', handleFiltersPagination);\n\n// Subscription Form\nsubscriptionForm.addEventListener('submit', handleSubmitSubscription);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let currentPage = 1;\n  let totalPages = 1;\n  let currentBodypart = '';\n  let currentMuscles = '';\n  let currentEquipment = '';\n  let currentKeyword = '';\n\n  const selectedCategoryEl = document.getElementById('selected-category');\n  const searchForm = document.getElementById('search-form');\n  const paginationContainer = document.getElementById('pagination-container');\n  const filterList = document.querySelector('.filter-list');\n\n  filterList.addEventListener('click', event => {\n    const result = handleCategoryClick(\n      event,\n      currentPage,\n      currentBodypart,\n      currentMuscles,\n      currentEquipment,\n      currentKeyword,\n      updateExercises,\n      paginationContainer\n    );\n    currentPage = result.currentPage;\n    currentBodypart = result.currentBodypart;\n    currentMuscles = result.currentMuscles;\n    currentEquipment = result.currentEquipment;\n    currentKeyword = result.currentKeyword;\n  });\n\n  searchForm.addEventListener('submit', event => {\n    const result = handleSearchSubmit(\n      event,\n      currentPage,\n      currentBodypart,\n      currentMuscles,\n      currentEquipment,\n      currentKeyword,\n      updateExercises,\n      paginationContainer\n    );\n    currentPage = result.currentPage;\n    currentBodypart = result.currentBodypart;\n    currentMuscles = result.currentMuscles;\n    currentEquipment = result.currentEquipment;\n    currentKeyword = result.currentKeyword;\n  });\n\n  document.querySelectorAll('.nav-btn').forEach(button => {\n    button.addEventListener('click', event => {\n      const exerciseWrapper = document.querySelector('.exercise-wrapper');\n      if (exerciseWrapper) {\n        exerciseWrapper.classList.add('hidden');\n      }\n\n      const filterWrapper = document.querySelector('.filter-wrapper');\n      if (filterWrapper) {\n        filterWrapper.classList.remove('hidden');\n      }\n\n      // console.log(`Filter button clicked: ${event.target.dataset.filter}`);\n    });\n  });\n\n  document.querySelector('.main-nav').addEventListener('click', () => {\n    // Скрываем строку поиска\n    const searchContainer = document.getElementById('search-container');\n    if (searchContainer) {\n      searchContainer.classList.add('hidden');\n    }\n\n    // Скрываем заголовок\n    const exercisesTitle = document.getElementById('selected-category');\n    if (exercisesTitle) {\n      exercisesTitle.innerHTML = '';\n    }\n  });\n\n  updateExercises({\n    currentPage,\n    currentBodypart,\n    currentMuscles,\n    currentEquipment,\n    currentKeyword,\n    paginationContainer,\n    totalPages,\n  });\n});\n"],"names":["scrollupBtn","handlerScrollEvent","handlerScrollupBtnClick","headerMenu","headerOverlay","rootStyles","breakpointMd","removeButtonListeners","button","toggleMenu","addButtonListeners","toggleHeaderEventListeners","quoteSection","imagesList","filterBtns","renderImg","imagesData","markUp","image","renderPagination","buttonsHTML","i","renderQuote","quoteData","quoteMarkUp","decorateFilter","event","btn","resetFilterView","resetAll","updatePaginationView","getFilters","page","limit","filter","client","error","_b","_a","getQuote","filtersParam","changeFilter","filtersData","filterQuoteLS","today","moment","dataFromLS","data","filterSizeDepends","windowWidth","tempLimit","handleFiltersPagination","pageBtn","setSubscription","email","subscriptionForm","emailInput","handleSubmitSubscription","res","showNotification","showErrorNotification","getExercises","bodypart","muscles","equipment","keyword","renderExercises","exercises","exerciseListEl","exercise","sprite","exerciseId","openExerciseDialog","fetchExercisesHandler","showLoader","response","hideLoader","currentPage","totalPages","paginationContainer","updateExercises","currentBodypart","currentMuscles","currentEquipment","currentKeyword","startPage","endPage","pageButton","handleCategoryClick","name","filterWrapper","exerciseWrapper","selectedCategoryEl","searchContainer","handleSearchSubmit","searchInput","navFilter","filterPagination","searchForm","result","exercisesTitle"],"mappings":"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"}