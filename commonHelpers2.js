import{t as F}from"./assets/headerHandlers-91394425.js";import{a as v,h as L,i}from"./assets/vendor-451007fb.js";const s=document.querySelector(".scrollup-btn"),S=function(){window.scrollY<300?s.classList.add("visually-hidden"):s.classList.remove("visually-hidden")};window.addEventListener("scroll",S);s.addEventListener("click",q);function q(){window.scrollTo({top:0,behavior:"smooth"})}const E=document.querySelector(".quote-text-wrapper"),h=document.querySelector(".filter-list"),c=document.querySelector(".pagination-section");function l(t){const n=t.results.map(e=>`
        <li class="filter-item">
          <button type="submit" class="filter-btn untreated data-filter=${e.filter} data-name=${e.name}">
            <div class="filter-container">
              <img class="filter-img" src="${e.imgURL}" alt="${e.name}" width=335 height=225>
              <div class="filter-overlay"></div>
              <p class="filter-name">${e.name}</p>
              <p class="filter-filter">${e.filter}</p>
            </div>  
          </button>
        </li>
      `).join("");h.insertAdjacentHTML("beforeend",n)}function w(t){let n="";for(let e=1;e<=t.totalPages;e++)n+=`
      <button type="button" class="pagination-btn untreated${e===1?" active":""}" data-page=${e}>${e}</button>
    `;c.insertAdjacentHTML("beforeend",n)}function p(t){const n=`
    <p class="quote-text">${t.quote}</p>
    <p class="quote-author">${t.author}</p>
  `;E.insertAdjacentHTML("beforeend",n)}function $(t){document.querySelectorAll(".nav-btn").forEach(e=>e.classList.remove("decorated")),t.target.classList.add("decorated")}function u(t){h.innerHTML="",t&&(c.innerHTML="")}function k(t){c.querySelectorAll(".pagination-btn").forEach(e=>e.classList.remove("active")),t.classList.add("active"),window.scrollTo(0,0)}const d=v.create({baseURL:"https://your-energy.b.goit.study/api/",timeout:3e3});async function f({page:t=1,limit:n=12,filter:e}){var o,m;try{return(await d.get("filters",{params:{page:t,limit:n,filter:e}})).data}catch(r){throw new Error(((m=(o=r.response)==null?void 0:o.data)==null?void 0:m.message)||r.message)}}async function M(){var t,n;try{return(await d.get("quote")).data}catch(e){throw new Error(((n=(t=e.response)==null?void 0:t.data)==null?void 0:n.message)||e.message)}}const a={filter:"Muscles",page:1,limit:null};async function T(t){if(t.target.classList.contains("nav-btn")){$(t),u(!0),a.page=1,a.filter=t.target.dataset.filter;const n=await f(a);l(n),w(n)}}async function B(){const t=L().format("L"),n=JSON.parse(localStorage.getItem("quote-data"));if(!n||n.date!==t){const e=await M();p(e);const o={};o.date=t,o.quote=e.quote,o.author=e.author,localStorage.clear("quote-data"),localStorage.setItem("quote-data",JSON.stringify(o))}else p(n)}async function y(){const t=window.innerWidth;let n=null;if(t>1439?n=12:n=9,n!==a.limit){u(!0),a.page=1,a.limit=n;const e=await f(a);l(e),w(e)}}async function C(t){if(t.target.classList.contains("pagination-btn")){u();const n=t.target;a.page=n.dataset.page;const e=await f(a);l(e),k(n)}}async function P(t){var n,e;try{return(await d.post("subscription",{email:t})).data}catch(o){throw new Error(((e=(n=o.response)==null?void 0:n.data)==null?void 0:e.message)||o.message)}}i.settings({class:"custom-toast",position:"topRight",maxWidth:432,color:"#FFFFFF",titleColor:"#FFFFFF",messageColor:"#FFFFFF",iconColor:"#FFFFFF",displayMode:1});function H(t){i.info({message:t,backgroundColor:"#6C8CFF"})}function A(t){i.error({message:t,backgroundColor:"#EF4040"})}const b=document.querySelector(".subscribe__form"),g=b.querySelector('[name="email"]');async function D(t){if(t.preventDefault(),!!g.value)try{const n=g.value,e=await P(n);H(e.message),b.reset()}catch(n){A(n.message)}}const j=document.querySelector(".main-nav"),x=document.querySelector(".pagination-section"),I=document.querySelector(".subscribe__form");window.addEventListener("resize",()=>{F(),y()});F();y();B();j.addEventListener("click",T);x.addEventListener("click",C);I.addEventListener("submit",D);
//# sourceMappingURL=commonHelpers2.js.map
