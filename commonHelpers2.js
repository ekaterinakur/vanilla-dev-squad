import{t as y}from"./assets/headerHandlers-d9c2909e.js";import{a as v,h as L,i}from"./assets/vendor-451007fb.js";const s=document.querySelector(".scrollup-btn"),S=function(){window.scrollY<300?s.classList.add("visually-hidden"):s.classList.remove("visually-hidden")};window.addEventListener("scroll",S);s.addEventListener("click",q);function q(){window.scrollTo({top:0,behavior:"smooth"})}const E=document.querySelector(".quote-text-wrapper"),h=document.querySelector(".filter-list"),c=document.querySelector(".pagination-section");function l(t){const n=t.results.map(e=>`
        <li class="filter-item">
          <button type="submit" class="filter-btn untreated data-filter=${e.filter} data-name=${e.name}">
            <div class="filter-container">
              <img class="filter-img" src="${e.imgURL}" alt="${e.name}" width=335 height=225>
              <div class="filter-overlay"></div>
              <p class="filter-name">${e.name}</p>
              <p class="filter-filter">${e.filter}</p>
            </div>  
          </button>
        </li>
      `).join("");h.insertAdjacentHTML("beforeend",n)}function w(t){let n="";for(let e=1;e<=t.totalPages;e++)n+=`
      <button type="button" class="pagination-btn untreated${e===1?" active":""}" data-page=${e}>${e}</button>
    `;c.insertAdjacentHTML("beforeend",n)}function g(t){const n=`
    <p class="quote-text">${t.quote}</p>
    <p class="quote-author">${t.author}</p>
  `;E.insertAdjacentHTML("beforeend",n)}function B(t){document.querySelectorAll(".nav-btn").forEach(e=>e.classList.remove("decorated")),t.target.classList.add("decorated")}function d(t){h.innerHTML="",t&&(c.innerHTML="")}function M(t){c.querySelectorAll(".pagination-btn").forEach(e=>e.classList.remove("active")),t.classList.add("active"),window.scrollTo(0,0)}const u=v.create({baseURL:"https://your-energy.b.goit.study/api/",timeout:3e3});async function m({page:t=1,limit:n=12,filter:e}){var o,f;try{return(await u.get("filters",{params:{page:t,limit:n,filter:e}})).data}catch(r){throw new Error(((f=(o=r.response)==null?void 0:o.data)==null?void 0:f.message)||r.message)}}async function $(){var t,n;try{return(await u.get("quote")).data}catch(e){throw new Error(((n=(t=e.response)==null?void 0:t.data)==null?void 0:n.message)||e.message)}}const a={filter:"Muscles",page:1,limit:null};async function k(t){if(t.target.classList.contains("nav-btn")){B(t),d(!0),a.page=1,a.filter=t.target.dataset.filter;const n=await m(a);l(n),w(n)}}async function I(){const t=L().format("L"),n=JSON.parse(localStorage.getItem("quote-data"));if(!n||n.date!==t){const e=await $();g(e);const o={};o.date=t,o.quote=e.quote,o.author=e.author,localStorage.clear("quote-data"),localStorage.setItem("quote-data",JSON.stringify(o))}else g(n)}async function F(){const t=window.innerWidth;let n=null;if(t>1439?n=12:n=9,n!==a.limit){d(!0),a.page=1,a.limit=n;const e=await m(a);l(e),w(e)}}async function T(t){if(t.target.classList.contains("pagination-btn")){d();const n=t.target;a.page=n.dataset.page;const e=await m(a);l(e),M(n)}}async function P(t){var n,e;try{return(await u.post("subscription",{email:t})).data}catch(o){throw new Error(((e=(n=o.response)==null?void 0:n.data)==null?void 0:e.message)||o.message)}}i.settings({class:"custom-toast",position:"topRight",maxWidth:432,color:"#FFFFFF",titleColor:"#FFFFFF",messageColor:"#FFFFFF",iconColor:"#FFFFFF",displayMode:1});function C(t){i.success({message:t,backgroundColor:"#0C7611"})}function H(t){i.error({message:t,backgroundColor:"#EF4040"})}const b=document.querySelector(".subscribe__form"),p=b.querySelector('[name="email"]');async function x(t){if(t.preventDefault(),!!p.value)try{const n=p.value,e=await P(n);C(e.message),b.reset()}catch(n){H(n.message)}}document.getElementById("giveRatingBtn");document.getElementById("closeRatingModal");document.getElementById("closeExerciseModal");document.getElementById("ratingModal");document.getElementById("exerciseModal");document.querySelector("#ratingModal .modal-content");const A=document.querySelector(".main-nav"),D=document.querySelector(".pagination-section"),R=document.querySelector(".subscribe__form");window.addEventListener("resize",()=>{y(),F()});y();F();I();A.addEventListener("click",k);D.addEventListener("click",T);R.addEventListener("submit",x);
//# sourceMappingURL=commonHelpers2.js.map
