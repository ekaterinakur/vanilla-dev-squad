import{t as F}from"./assets/headerHandlers-bdf27f07.js";import{a as v,h as L,i}from"./assets/vendor-451007fb.js";const s=document.querySelector(".scrollup-btn"),S=function(){window.scrollY<300?s.classList.add("visually-hidden"):s.classList.remove("visually-hidden")};window.addEventListener("scroll",S);s.addEventListener("click",q);function q(){window.scrollTo({top:0,behavior:"smooth"})}const E=document.querySelector(".quote-text-wrapper"),h=document.querySelector(".filter-list"),c=document.querySelector(".pagination-section");function l(e){const n=e.results.map(t=>`
        <li class="filter-item">
          <button type="submit" class="filter-btn untreated data-filter=${t.filter} data-name=${t.name}">
            <div class="filter-container">
              <img class="filter-img" src="${t.imgURL}" alt="${t.name}" width=335 height=225>
              <div class="filter-overlay"></div>
              <p class="filter-name">${t.name}</p>
              <p class="filter-filter">${t.filter}</p>
            </div>  
          </button>
        </li>
      `).join("");h.insertAdjacentHTML("beforeend",n)}function w(e){let n="";for(let t=1;t<=e.totalPages;t++)n+=`
      <button type="button" class="pagination-btn untreated${t===1?" active":""}" data-page=${t}>${t}</button>
    `;c.insertAdjacentHTML("beforeend",n)}function p(e){const n=`
    <p class="quote-text">${e.quote}</p>
    <p class="quote-author">${e.author}</p>
  `;E.insertAdjacentHTML("beforeend",n)}function $(e){document.querySelectorAll(".nav-btn").forEach(t=>t.classList.remove("decorated")),e.target.classList.add("decorated")}function u(e){h.innerHTML="",e&&(c.innerHTML="")}function k(e){c.querySelectorAll(".pagination-btn").forEach(t=>t.classList.remove("active")),e.classList.add("active"),window.scrollTo(0,0)}const d=v.create({baseURL:"https://your-energy.b.goit.study/api/",timeout:3e3});async function f({page:e=1,limit:n=12,filter:t}){var o,m;try{return(await d.get("filters",{params:{page:e,limit:n,filter:t}})).data}catch(r){throw new Error(((m=(o=r.response)==null?void 0:o.data)==null?void 0:m.message)||r.message)}}async function M(){var e,n;try{return(await d.get("quote")).data}catch(t){throw new Error(((n=(e=t.response)==null?void 0:e.data)==null?void 0:n.message)||t.message)}}const a={filter:"Muscles",page:1,limit:null};async function T(e){$(e),u(!0),a.page=1,a.filter=e.target.dataset.filter;const n=await f(a);l(n),w(n)}async function B(){const e=L().format("L"),n=JSON.parse(localStorage.getItem("quote-data"));if(!n||n.date!==e){const t=await M();p(t);const o={};o.date=e,o.quote=t.quote,o.author=t.author,localStorage.clear("quote-data"),localStorage.setItem("quote-data",JSON.stringify(o))}else p(n)}async function y(){const e=window.innerWidth;let n=null;if(e>1439?n=12:n=9,n!==a.limit){u(!0),a.page=1,a.limit=n;const t=await f(a);l(t),w(t)}}async function C(e){u();const n=e.target;a.page=n.dataset.page;const t=await f(a);l(t),k(n)}async function P(e){var n,t;try{return(await d.post("subscription",{email:e})).data}catch(o){throw new Error(((t=(n=o.response)==null?void 0:n.data)==null?void 0:t.message)||o.message)}}i.settings({class:"custom-toast",position:"topRight",maxWidth:432,color:"#FFFFFF",titleColor:"#FFFFFF",messageColor:"#FFFFFF",iconColor:"#FFFFFF",displayMode:1});function H(e){i.info({message:e,backgroundColor:"#6C8CFF"})}function A(e){i.error({message:e,backgroundColor:"#EF4040"})}const b=document.querySelector(".subscribe__form"),g=b.querySelector('[name="email"]');async function D(e){if(e.preventDefault(),!!g.value)try{const n=g.value,t=await P(n);H(t.message),b.reset()}catch(n){A(n.message)}}const j=document.querySelector(".main-nav"),x=document.querySelector(".pagination-section"),I=document.querySelector(".subscribe__form");window.addEventListener("resize",()=>{F(),y()});F();y();B();j.addEventListener("click",T);x.addEventListener("click",C);I.addEventListener("submit",D);
//# sourceMappingURL=commonHelpers2.js.map
