import{a as v,h as L,i as l}from"./assets/vendor-1278b2b6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const c=document.querySelector(".scrollup-btn"),S=function(){window.scrollY<300?c.classList.add("visually-hidden"):c.classList.remove("visually-hidden")};window.addEventListener("scroll",S);c.addEventListener("click",q);function q(){window.scrollTo({top:0,behavior:"smooth"})}const E=document.querySelector(".quote-text-wrapper"),h=document.querySelector(".filter-list"),u=document.querySelector(".pagination-section");function d(e){const t=e.results.map(o=>`
    <li class="filter-item">
        <button type="submit" class="filter-btn untreated data-filter=${o.filter} data-name=${o.name}">
          <div class="filter-container">
            <img class="filter-img" src="${o.imgURL}" alt="${o.name}" width=335 height=225>
            <div class="filter-overlay"></div>
            <p class="filter-name">${o.name}</p>
            <p class="filter-filter">${o.filter}</p>
          </div>  
        </button>
    </li>`).join("");h.insertAdjacentHTML("beforeend",t)}function F(e){let t="";for(let o=1;o<=e.totalPages;o++)t+=`
      <button type="button" class="pagination-btn untreated${o===1?" active":""}" data-page=${o}>${o}</button>
    `;u.insertAdjacentHTML("beforeend",t)}function g(e){const t=`
    <p class="quote-text">${e.quote}</p>
    <p class="quote-author">${e.author}</p>
  `;E.insertAdjacentHTML("beforeend",t)}function P(e){document.querySelectorAll(".nav-btn").forEach(o=>o.classList.remove("decorated")),e.target.classList.add("decorated")}function f(e){h.innerHTML="",e&&(u.innerHTML="")}function $(e){u.querySelectorAll(".pagination-btn").forEach(o=>o.classList.remove("active")),e.classList.add("active"),window.scrollTo(0,0)}const p=v.create({baseURL:"https://your-energy.b.goit.study/api/",timeout:3e3});async function m({page:e=1,limit:t=12,filter:o}){var n;try{return(await p.get("filters",{params:{page:e,limit:t,filter:o}})).data}catch(r){throw new Error(((n=r.response)==null?void 0:n.status)||r.message)}}async function M(){var e;try{return(await p.get("quote")).data}catch(t){throw new Error(((e=t.response)==null?void 0:e.status)||t.message)}}const i={filter:"Muscles",page:1,limit:null};async function T(e){P(e),f(!0),i.page=1,i.filter=e.target.dataset.filter;const t=await m(i);d(t),F(t)}async function B(){const e=L().format("L"),t=JSON.parse(localStorage.getItem("quote-data"));if(!t||t.date!==e){const o=await M();g(o);const n={};n.date=e,n.quote=o.quote,n.author=o.author,localStorage.clear("quote-data"),localStorage.setItem("quote-data",JSON.stringify(n))}else g(t)}async function w(){const e=window.innerWidth;let t=null;if(e>1439?t=12:t=9,t!==i.limit){f(!0),i.page=1,i.limit=t;const o=await m(i);d(o),F(o)}}async function C(e){f();const t=e.target;i.page=t.dataset.page;const o=await m(i);d(o),$(t)}async function O(e){var t,o;try{return(await p.post("subscription",{email:e})).data}catch(n){throw new Error(((o=(t=n.response)==null?void 0:t.data)==null?void 0:o.message)||n.message)}}l.settings({class:"custom-toast",position:"topRight",maxWidth:432,color:"#FFFFFF",titleColor:"#FFFFFF",messageColor:"#FFFFFF",iconColor:"#FFFFFF",displayMode:1});function N(e){l.info({message:e,backgroundColor:"#6C8CFF"})}function A(e){l.error({message:e,backgroundColor:"#EF4040"})}const b=document.querySelector(".subscribe__form"),y=b.querySelector('[name="email"]');async function H(e){if(e.preventDefault(),!!y.value)try{const t=y.value,o=await O(t);N(o.message),b.reset()}catch(t){A(t.message)}}const D=document.querySelector(".main-nav"),I=document.querySelector(".pagination-section"),j=document.querySelector(".subscribe__form");window.addEventListener("resize",()=>{w()});w();B();D.addEventListener("click",T);I.addEventListener("click",C);j.addEventListener("submit",H);
//# sourceMappingURL=commonHelpers.js.map
